# ============================================================
# SocialFi DApp ‚Äî API Test Collection
# ============================================================
# ‡πÉ‡∏ä‡πâ VS Code Extension: "REST Client" (humao.rest-client)
# ‡∏´‡∏£‡∏∑‡∏≠ copy ‡πÑ‡∏õ‡πÉ‡∏™‡πà‡πÉ‡∏ô Postman / Insomnia
#
# ‡∏ß‡∏¥‡∏ò‡∏µ‡πÉ‡∏ä‡πâ‡πÉ‡∏ô VS Code:
#   1. ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á extension "REST Client"
#   2. ‡∏Ñ‡∏•‡∏¥‡∏Å "Send Request" ‡πÄ‡∏´‡∏ô‡∏∑‡∏≠‡πÅ‡∏ï‡πà‡∏•‡∏∞ request
#   3. ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏à‡∏∞‡∏Ç‡∏∂‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏î‡πâ‡∏≤‡∏ô‡∏Ç‡∏ß‡∏≤
# ============================================================

@baseUrl = http://localhost:4000
@contentType = application/json

# ‚îÄ‚îÄ Copy JWT token ‡∏°‡∏≤‡∏ß‡∏≤‡∏á‡∏ï‡∏£‡∏á‡∏ô‡∏µ‡πâ‡∏´‡∏•‡∏±‡∏á login ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
@userToken = PASTE_TOKEN_HERE
@merchantToken = PASTE_MERCHANT_TOKEN_HERE
@postId = PASTE_POST_ID_HERE
@sponsoredPostId = PASTE_SPONSORED_POST_ID_HERE


###############################################################
# 1. HEALTH CHECK
###############################################################

### 1.1 ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö server ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏≠‡∏¢‡∏π‡πà‡πÑ‡∏´‡∏°
GET {{baseUrl}}/api/health


###############################################################
# 2. AUTH ‚Äî Web2 (Email/Password)
###############################################################

### 2.1 ‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å‡πÉ‡∏´‡∏°‡πà (User ‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ)
# ‚úÖ ‡∏Ñ‡∏≤‡∏î‡∏´‡∏ß‡∏±‡∏á: 201 + { token, user }
POST {{baseUrl}}/api/auth/register
Content-Type: {{contentType}}

{
  "email": "testuser@example.com",
  "password": "Password123!",
  "username": "testuser_01",
  "displayName": "Test User",
  "referralCode": "ALICE001"
}

###

### 2.2 ‡∏•‡πá‡∏≠‡∏Å‡∏≠‡∏¥‡∏ô (User ‡∏ó‡∏µ‡πà‡∏°‡∏≤‡∏à‡∏≤‡∏Å seed)
# ‚úÖ ‡∏Ñ‡∏≤‡∏î‡∏´‡∏ß‡∏±‡∏á: 200 + { token, user }
# üëâ Copy "token" ‡πÑ‡∏õ‡∏ß‡∏≤‡∏á‡πÉ‡∏ô @userToken ‡∏ö‡∏ô‡∏™‡∏∏‡∏î
POST {{baseUrl}}/api/auth/login
Content-Type: {{contentType}}

{
  "email": "alice@example.com",
  "password": "Password123!"
}

###

### 2.3 ‡∏•‡πá‡∏≠‡∏Å‡∏≠‡∏¥‡∏ô Merchant
# ‚úÖ ‡∏Ñ‡∏≤‡∏î‡∏´‡∏ß‡∏±‡∏á: 200 + { token, user }
# üëâ Copy "token" ‡πÑ‡∏õ‡∏ß‡∏≤‡∏á‡πÉ‡∏ô @merchantToken ‡∏ö‡∏ô‡∏™‡∏∏‡∏î
POST {{baseUrl}}/api/auth/login
Content-Type: {{contentType}}

{
  "email": "merchant@nftstore.io",
  "password": "Password123!"
}

###

### 2.4 ‡∏î‡∏π‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á (‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏™‡πà @userToken ‡∏Å‡πà‡∏≠‡∏ô)
# ‚úÖ ‡∏Ñ‡∏≤‡∏î‡∏´‡∏ß‡∏±‡∏á: 200 + { user: { id, email, username, offChainBalance, ... } }
GET {{baseUrl}}/api/auth/me
Authorization: Bearer {{userToken}}

###

### 2.5 ‡∏ó‡∏î‡∏™‡∏≠‡∏ö login ‡∏ú‡∏¥‡∏î password
# ‚úÖ ‡∏Ñ‡∏≤‡∏î‡∏´‡∏ß‡∏±‡∏á: 401 + { error: "Invalid email or password" }
POST {{baseUrl}}/api/auth/login
Content-Type: {{contentType}}

{
  "email": "alice@example.com",
  "password": "WrongPassword!"
}

###

### 2.6 ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏™‡∏°‡∏±‡∏Ñ‡∏£ email ‡∏ã‡πâ‡∏≥
# ‚úÖ ‡∏Ñ‡∏≤‡∏î‡∏´‡∏ß‡∏±‡∏á: 409 + { error: "Email or username already taken" }
POST {{baseUrl}}/api/auth/register
Content-Type: {{contentType}}

{
  "email": "alice@example.com",
  "password": "Password123!",
  "username": "alice_duplicate"
}


###############################################################
# 3. AUTH ‚Äî Web3 (Sign-In with Ethereum)
###############################################################

### 3.1 ‡∏Ç‡∏≠ Nonce ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö wallet address
# ‚úÖ ‡∏Ñ‡∏≤‡∏î‡∏´‡∏ß‡∏±‡∏á: 200 + { nonce: "..." }
GET {{baseUrl}}/api/auth/nonce/0x742d35Cc6634C0532925a3b8D4C9B0BaE29E5123

###
# ‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏: SIWE verify ‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ signature ‡∏à‡∏£‡∏¥‡∏á‡∏à‡∏≤‡∏Å MetaMask
# ‡∏ó‡∏î‡∏™‡∏≠‡∏ö flow ‡∏ô‡∏µ‡πâ‡∏ú‡πà‡∏≤‡∏ô Frontend ‡∏ó‡∏µ‡πà‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏Å‡∏±‡∏ö wallet


###############################################################
# 4. SOCIAL FEED
###############################################################

### 4.1 ‡∏î‡∏π‡∏ü‡∏µ‡∏î (‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á login ‚Äî public)
# ‚úÖ ‡∏Ñ‡∏≤‡∏î‡∏´‡∏ß‡∏±‡∏á: 200 + { feed: [...], nextCursor, hasMore }
# ‚úÖ ‡∏à‡∏∞‡∏°‡∏µ‡∏ó‡∏±‡πâ‡∏á organic posts ‡πÅ‡∏•‡∏∞ sponsored posts ‡∏õ‡∏∞‡∏õ‡∏ô‡∏Å‡∏±‡∏ô
GET {{baseUrl}}/api/feed

###

### 4.2 ‡∏î‡∏π‡∏ü‡∏µ‡∏î‡πÅ‡∏ö‡∏ö paginated
# ‚úÖ ‡∏Ñ‡∏≤‡∏î‡∏´‡∏ß‡∏±‡∏á: 200 + feed ‡∏≠‡∏µ‡∏Å‡∏´‡∏ô‡πâ‡∏≤ (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏û‡∏≠)
GET {{baseUrl}}/api/feed?limit=5

###

### 4.3 ‡∏î‡∏π‡∏ü‡∏µ‡∏î‡πÉ‡∏ô‡∏ê‡∏≤‡∏ô‡∏∞ User ‡∏ó‡∏µ‡πà login (‡∏à‡∏∞‡πÄ‡∏´‡πá‡∏ô rewardClaimed, userInteractions)
# ‚úÖ ‡∏Ñ‡∏≤‡∏î‡∏´‡∏ß‡∏±‡∏á: 200 + feed ‡∏°‡∏µ rewardClaimed: false/true ‡∏ö‡∏ô sponsored posts
GET {{baseUrl}}/api/feed
Authorization: Bearer {{userToken}}

###

### 4.4 ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÇ‡∏û‡∏™‡∏ï‡πå‡πÉ‡∏´‡∏°‡πà
# ‚úÖ ‡∏Ñ‡∏≤‡∏î‡∏´‡∏ß‡∏±‡∏á: 201 + { post: { id, content, type: "ORGANIC", ... } }
# üëâ Copy "id" ‡∏Ç‡∏≠‡∏á‡πÇ‡∏û‡∏™‡∏ï‡πå‡∏ô‡∏µ‡πâ‡πÑ‡∏õ‡∏ß‡∏≤‡∏á‡πÉ‡∏ô @postId ‡∏ö‡∏ô‡∏™‡∏∏‡∏î
POST {{baseUrl}}/api/feed/posts
Content-Type: {{contentType}}
Authorization: Bearer {{userToken}}

{
  "content": "‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡πÇ‡∏û‡∏™‡∏ï‡πå‡∏à‡∏≤‡∏Å REST Client! SocialFi ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏à‡∏∞‡∏Ç‡∏∂‡πâ‡∏ô Production ‡πÅ‡∏•‡πâ‡∏ß üöÄ",
  "mediaType": "NONE"
}

###

### 4.5 ‡πÑ‡∏•‡∏Ñ‡πå‡πÇ‡∏û‡∏™‡∏ï‡πå (toggle ‚Äî ‡∏Å‡∏î 2 ‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏à‡∏∞ unlike)
# ‚úÖ ‡∏Ñ‡∏≤‡∏î‡∏´‡∏ß‡∏±‡∏á: 201 + { interaction } ‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÅ‡∏£‡∏Å, { removed: true } ‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ó‡∏µ‡πà‡∏™‡∏≠‡∏á
POST {{baseUrl}}/api/feed/posts/{{postId}}/interact
Content-Type: {{contentType}}
Authorization: Bearer {{userToken}}

{
  "type": "LIKE"
}

###

### 4.6 ‡∏Ñ‡∏≠‡∏°‡πÄ‡∏°‡∏ô‡∏ï‡πå‡∏ö‡∏ô‡πÇ‡∏û‡∏™‡∏ï‡πå
# ‚úÖ ‡∏Ñ‡∏≤‡∏î‡∏´‡∏ß‡∏±‡∏á: 201 + { interaction: { type: "COMMENT", commentText: "..." } }
POST {{baseUrl}}/api/feed/posts/{{postId}}/interact
Content-Type: {{contentType}}
Authorization: Bearer {{userToken}}

{
  "type": "COMMENT",
  "commentText": "‡πÇ‡∏û‡∏™‡∏ï‡πå‡∏î‡∏µ‡∏°‡∏≤‡∏Å‡πÄ‡∏•‡∏¢! üî•"
}

###

### 4.7 ‡πÅ‡∏ä‡∏£‡πå‡πÇ‡∏û‡∏™‡∏ï‡πå
# ‚úÖ ‡∏Ñ‡∏≤‡∏î‡∏´‡∏ß‡∏±‡∏á: 201 + { interaction }
POST {{baseUrl}}/api/feed/posts/{{postId}}/interact
Content-Type: {{contentType}}
Authorization: Bearer {{userToken}}

{
  "type": "SHARE"
}

###

### 4.8 ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡πÇ‡∏û‡∏™‡∏ï‡πå‡πÇ‡∏î‡∏¢‡πÑ‡∏°‡πà login
# ‚úÖ ‡∏Ñ‡∏≤‡∏î‡∏´‡∏ß‡∏±‡∏á: 401 Unauthorized
POST {{baseUrl}}/api/feed/posts
Content-Type: {{contentType}}

{
  "content": "‡πÑ‡∏°‡πà‡∏Ñ‡∏ß‡∏£‡πÇ‡∏û‡∏™‡∏ï‡πå‡πÑ‡∏î‡πâ"
}


###############################################################
# 5. ADS & CAMPAIGNS
###############################################################

### 5.1 ‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£ Ad Packages ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î (public)
# ‚úÖ ‡∏Ñ‡∏≤‡∏î‡∏´‡∏ß‡∏±‡∏á: 200 + { packages: [Starter, Growth, Enterprise] }
GET {{baseUrl}}/api/ads/packages

###

### 5.2 ‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÅ‡∏Ñ‡∏°‡πÄ‡∏õ‡∏ç‡∏Ç‡∏≠‡∏á Merchant
# ‚úÖ ‡∏Ñ‡∏≤‡∏î‡∏´‡∏ß‡∏±‡∏á: 200 + { campaigns: [...] }
GET {{baseUrl}}/api/ads/campaigns
Authorization: Bearer {{merchantToken}}

###

### 5.3 ‡∏™‡∏£‡πâ‡∏≤‡∏á Stripe Checkout (Merchant ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô)
# ‚úÖ ‡∏Ñ‡∏≤‡∏î‡∏´‡∏ß‡∏±‡∏á: 200 + { checkoutUrl, campaignId, sessionId }
# ‚ö†Ô∏è  ‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏™‡πà STRIPE_SECRET_KEY ‡∏à‡∏£‡∏¥‡∏á‡πÉ‡∏ô .env ‡∏Å‡πà‡∏≠‡∏ô
POST {{baseUrl}}/api/ads/checkout
Content-Type: {{contentType}}
Authorization: Bearer {{merchantToken}}

{
  "adPackageId": "pkg-growth",
  "campaignTitle": "New NFT Collection Launch",
  "campaignDescription": "Exclusive drop for early community members",
  "targetUrl": "https://example.com/nft"
}

###

### 5.4 ‡∏ó‡∏î‡∏™‡∏≠‡∏ö User ‡∏õ‡∏Å‡∏ï‡∏¥ ‡∏™‡∏£‡πâ‡∏≤‡∏á checkout (‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà Merchant)
# ‚úÖ ‡∏Ñ‡∏≤‡∏î‡∏´‡∏ß‡∏±‡∏á: 403 Forbidden
POST {{baseUrl}}/api/ads/checkout
Content-Type: {{contentType}}
Authorization: Bearer {{userToken}}

{
  "adPackageId": "pkg-starter",
  "campaignTitle": "Unauthorized Campaign"
}


###############################################################
# 6. REWARDS ‚Äî Engage-to-Earn
###############################################################

### 6.1 ‡∏î‡∏π‡∏¢‡∏≠‡∏î‡πÄ‡∏´‡∏£‡∏µ‡∏¢‡∏ç‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô
# ‚úÖ ‡∏Ñ‡∏≤‡∏î‡∏´‡∏ß‡∏±‡∏á: 200 + { balance: "10.5", totalEarned: "10.5", pendingRewards: 1 }
GET {{baseUrl}}/api/rewards/balance
Authorization: Bearer {{userToken}}

###

### 6.2 ‡πÄ‡∏Ñ‡∏•‡∏°‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏• VIEW ‡∏ö‡∏ô Sponsored Post
# ‚úÖ ‡∏Ñ‡∏≤‡∏î‡∏´‡∏ß‡∏±‡∏á: 200 + { success: true, reward: { type: "AD_VIEW", amount: "0.05" } }
# ‚ö†Ô∏è  ‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏™‡πà @sponsoredPostId ‡∏Å‡πà‡∏≠‡∏ô (‡∏î‡∏π post id ‡∏à‡∏≤‡∏Å GET /api/feed)
POST {{baseUrl}}/api/rewards/claim
Content-Type: {{contentType}}
Authorization: Bearer {{userToken}}

{
  "postId": "{{sponsoredPostId}}",
  "type": "VIEW"
}

###

### 6.3 ‡πÄ‡∏Ñ‡∏•‡∏°‡∏ã‡πâ‡∏≥ (‡πÑ‡∏°‡πà‡∏Ñ‡∏ß‡∏£‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à)
# ‚úÖ ‡∏Ñ‡∏≤‡∏î‡∏´‡∏ß‡∏±‡∏á: 409 + { error: "Reward already claimed for this post" }
POST {{baseUrl}}/api/rewards/claim
Content-Type: {{contentType}}
Authorization: Bearer {{userToken}}

{
  "postId": "{{sponsoredPostId}}",
  "type": "VIEW"
}

###

### 6.4 ‡πÄ‡∏Ñ‡∏•‡∏°‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏• ENGAGEMENT (‡∏ï‡πâ‡∏≠‡∏á‡πÑ‡∏•‡∏Ñ‡πå/‡∏Ñ‡∏≠‡∏°‡πÄ‡∏°‡∏ô‡∏ï‡πå‡∏Å‡πà‡∏≠‡∏ô)
# ‚úÖ ‡∏Ñ‡∏≤‡∏î‡∏´‡∏ß‡∏±‡∏á: 200 + { reward: { type: "AD_ENGAGEMENT", amount: "0.1" } }
POST {{baseUrl}}/api/rewards/claim
Content-Type: {{contentType}}
Authorization: Bearer {{userToken}}

{
  "postId": "{{sponsoredPostId}}",
  "type": "ENGAGEMENT"
}

###

### 6.5 ‡∏î‡∏π‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
# ‚úÖ ‡∏Ñ‡∏≤‡∏î‡∏´‡∏ß‡∏±‡∏á: 200 + { rewards: [...], hasMore: false }
GET {{baseUrl}}/api/rewards/history
Authorization: Bearer {{userToken}}

###

### 6.6 ‡∏î‡∏π‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•‡∏Å‡∏£‡∏≠‡∏á type
# ‚úÖ ‡∏Ñ‡∏≤‡∏î‡∏´‡∏ß‡∏±‡∏á: 200 + ‡πÄ‡∏â‡∏û‡∏≤‡∏∞ AD_VIEW transactions
GET {{baseUrl}}/api/rewards/history?type=AD_VIEW
Authorization: Bearer {{userToken}}

###

### 6.7 ‡∏î‡∏π‡∏¢‡∏≠‡∏î‡πÄ‡∏´‡∏£‡∏µ‡∏¢‡∏ç‡∏´‡∏•‡∏±‡∏á‡πÄ‡∏Ñ‡∏•‡∏° (‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏à‡∏≤‡∏Å‡πÄ‡∏î‡∏¥‡∏°)
# ‚úÖ ‡∏Ñ‡∏≤‡∏î‡∏´‡∏ß‡∏±‡∏á: balance ‡∏™‡∏π‡∏á‡∏Å‡∏ß‡πà‡∏≤ 10.5
GET {{baseUrl}}/api/rewards/balance
Authorization: Bearer {{userToken}}

###

### 6.8 ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡πÄ‡∏Ñ‡∏•‡∏°‡πÇ‡∏î‡∏¢‡πÑ‡∏°‡πà login
# ‚úÖ ‡∏Ñ‡∏≤‡∏î‡∏´‡∏ß‡∏±‡∏á: 401 Unauthorized
POST {{baseUrl}}/api/rewards/claim
Content-Type: {{contentType}}

{
  "postId": "{{sponsoredPostId}}",
  "type": "VIEW"
}


###############################################################
# 7. ERROR HANDLING
###############################################################

### 7.1 Route ‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏≠‡∏¢‡∏π‡πà
# ‚úÖ ‡∏Ñ‡∏≤‡∏î‡∏´‡∏ß‡∏±‡∏á: 404 + { error: "Not found" }
GET {{baseUrl}}/api/nonexistent

###

### 7.2 ‡∏™‡πà‡∏á JWT ‡∏ó‡∏µ‡πà expire/‡∏ú‡∏¥‡∏î
# ‚úÖ ‡∏Ñ‡∏≤‡∏î‡∏´‡∏ß‡∏±‡∏á: 401 + { error: "Invalid or expired token" }
GET {{baseUrl}}/api/auth/me
Authorization: Bearer invalid.jwt.token.here
